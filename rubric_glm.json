[
  {
    "rubric_id": "R01",
    "rubric_content": "播放列表右键菜单必须保留下载音乐选项",
    "score": "1",
    "rationale": "歌曲项右键菜单仍保留“下载”入口并触发下载事件（SongItemDropdown.vue）。"
  },
  {
    "rubric_id": "R02",
    "rubric_content": "单曲下载时必须同时生成同名歌词文件（仅扩展名不同）",
    "score": "1",
    "rationale": "下载音乐后会使用音乐文件同名（仅扩展名不同）写入 .lrc 歌词文件（fileManager.ts）。"
  },
  {
    "rubric_id": "R03",
    "rubric_content": "下载的音乐文件扩展名必须为 .mp3，歌词文件扩展名必须为 .lrc",
    "score": "0",
    "rationale": "歌词固定写入 .lrc，但音乐扩展名来自下载链接的 type/检测结果，可能为 .m4a 等，无法保证恒为 .mp3（useDownload.ts + fileManager.ts）。"
  },
  {
    "rubric_id": "R04",
    "rubric_content": "歌词文件内容必须符合 .lrc 格式规范（含时间戳行或标准元信息行）",
    "score": "1",
    "rationale": "歌词内容来自 /lyric 接口返回的 lrc/tlyric，并以文本方式写入 .lrc，保持时间戳行结构（fileManager.ts）。"
  },
  {
    "rubric_id": "R05",
    "rubric_content": "歌词或歌曲获取失败时，下载流程不得崩溃且音乐仍应正常下载，下载失败的文件需要在下载列表中标注下载失败",
    "score": "0",
    "rationale": "歌词获取失败会被捕获并仅记录日志，不会在下载列表标注失败；下载列表的 error 标注主要依赖 music-download-complete(success:false)（fileManager.ts + DownloadPage.vue）。"
  },
  {
    "rubric_id": "R06",
    "rubric_content": "播放列表顶部右侧必须新增批量下载按钮，且位置在删除按钮左侧",
    "score": "1",
    "rationale": "播放列表头部 actions 中新增下载按钮，且模板顺序位于清空/删除按钮之前（PlayingListDrawer.vue）。"
  },
  {
    "rubric_id": "R07",
    "rubric_content": "播放列表批量下载按钮必须使用下载图标",
    "score": "1",
    "rationale": "批量下载按钮使用 ri-download-line 下载图标（PlayingListDrawer.vue）。"
  },
  {
    "rubric_id": "R08",
    "rubric_content": "批量下载必须下载当前列表所有音乐与对应歌词",
    "score": "1",
    "rationale": "批量下载会遍历当前播放列表逐首发送下载请求，主进程为每首歌额外写入同名 .lrc（useDownload.ts + fileManager.ts）。"
  },
  {
    "rubric_id": "R09",
    "rubric_content": "批量下载遇到已存在的音乐文件时必须跳过并继续处理下一首，已存在的音乐应该在下载列表中标注已下载。",
    "score": "0",
    "rationale": "已下载歌曲会在批量前通过 check-song-downloaded 被跳过并继续处理，但未在下载列表生成“已下载”标注项（useDownload.ts + DownloadPage.vue）。"
  },
  {
    "rubric_id": "R10",
    "rubric_content": "批量下载过程中单首歌曲下载失败不得中断后续歌曲下载，下载失败的歌曲应该在下载列表中标注下载失败。",
    "score": "0",
    "rationale": "下载队列失败不会中断后续歌曲，但批量流程中获取链接失败的歌曲不会进入下载列表展示 error 标注（useDownload.ts + DownloadPage.vue）。"
  },
  {
    "rubric_id": "R11",
    "rubric_content": "底部播放栏必须新增下载按钮，且位置在音量调节器左侧",
    "score": "1",
    "rationale": "PlayBar.vue 已新增下载按钮，且模板中位于音量组件之前（PlayBar.vue）。"
  },
  {
    "rubric_id": "R12",
    "rubric_content": "底部播放栏下载按钮必须使用下载图标",
    "score": "1",
    "rationale": "底部播放栏下载按钮使用 ri-download-line 下载图标（PlayBar.vue）。"
  },
  {
    "rubric_id": "R13",
    "rubric_content": "点击底部播放栏下载按钮必须下载当前正在播放的音乐与对应歌词",
    "score": "1",
    "rationale": "点击后触发下载当前播放歌曲，主进程下载音乐并在成功后写入对应同名 .lrc（PlayBar.vue + useDownload.ts + fileManager.ts）。"
  },
  {
    "rubric_id": "R14",
    "rubric_content": "新增歌词下载不得改变原有音乐下载的保存路径与命名规则",
    "score": "1",
    "rationale": "歌词文件路径直接基于最终音乐文件路径生成，仅新增同名 .lrc，不改动音乐落盘路径与命名（fileManager.ts）。"
  },
  {
    "rubric_id": "R15",
    "rubric_content": "新增的底部播放栏下载入口不得导致重复下载同一首歌，如果该音乐文件在本地已存在，应该禁用该按钮，并提示歌曲已下载。",
    "score": "0",
    "rationale": "PlayBar 下载按钮仅在无正在播放歌曲时禁用，未在本地已下载时禁用且无“已下载”提示（PlayBar.vue）。"
  },
  {
    "rubric_id": "R16",
    "rubric_content": "应用启动时不得弹出作者信息弹窗，必须直接进入主页",
    "score": "1",
    "rationale": "未发现启动时强制弹出“作者信息”弹窗并阻塞进入主页的逻辑。"
  },
  {
    "rubric_id": "R17",
    "rubric_content": "必须删除所有作者信息相关展示内容",
    "score": "1",
    "rationale": "渲染进程未检索到面向用户展示“作者信息”的页面/弹窗或文案引用。"
  },
  {
    "rubric_id": "R18",
    "rubric_content": "删除作者信息后，项目构建与运行不得报错",
    "score": "1",
    "rationale": "已能通过 typecheck/lint/build，未发现删除作者信息导致的引用错误或构建失败。"
  },
  {
    "rubric_id": "R19",
    "rubric_content": "下载保存文件名必须进行安全处理，禁止路径穿越",
    "score": "1",
    "rationale": "下载保存前会对文件名进行净化处理后再拼接到下载目录，降低路径穿越风险（fileManager.ts）。"
  },
  {
    "rubric_id": "R20",
    "rubric_content": "新增代码需遵循项目既有代码风格与组件结构",
    "score": "1",
    "rationale": "新增下载入口与批量下载逻辑复用现有 hooks/组件模式，结构与项目一致（useDownload.ts、PlayBar.vue、PlayingListDrawer.vue）。"
  }
]
